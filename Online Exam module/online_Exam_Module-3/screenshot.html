<!DOCTYPE html>
<html>
<head>
<title>How to Capture Screenshot of Page using JavaScript</title>
<link rel='stylesheet' href='form.css' type='text/css' />
</head>
<body>
    <div class="phppot-container">
        <h1>How to Capture Screenshot of Page using JavaScript</h1>
        <img src="https://www.photoshopessentials.com/newsite/wp-content/uploads/2018/08/resize-images-print-photoshop-f.jpg" style="height: 200px; width: 200px;"/>
        <img src="https://miro.medium.com/v2/resize:fit:720/format:webp/1*4sUneEmGCNYHt0iWbuCStg.jpeg" style="height: 200px; width: 200px;"/>
        <p>
            <button id="capture-screenshot">Capture Screenshot</button>
        </p>
    </div>

    <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <script type="text/javascript"
    src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>

    <script src="https://superal.github.io/canvas2image/canvas2image.js"></script> 


    <!-- document.querySelector('button').addEventListener('click', function() {
        html2canvas(document.querySelector('.specific'), {
            onrendered: function(canvas) {
                // document.body.appendChild(canvas);
              return Canvas2Image.saveAsPNG(canvas);
            }
        });
    }); -->

    <script type="text/javascript">  
        $('#capture-screenshot').click(function() {
            const screenshotTarget = document.body;
            html2canvas(screenshotTarget).then(canvas => {
            	// to image as png use below line
               // const base64image = canvas.toDataURL("image/png");
            	// show the image in window use below line
                // window.location.href = base64image;
            	//Canvas2Image.saveAsPNG(canvas);
            	
                
                // screenshot appended to the body as canvas
              //  document.body.appendChild(canvas);  
               // dataURL = canvas.toDataURL();  
                
               
               
               // to print the screenshot in console use below line
                // console.log(dataURL);
                
                // following line is optional and it is to save the screenshot
                // on the server side. It initiates an ajax call



                 // Convert the canvas to an image
                 const screenshotImage = new Image();
                    screenshotImage.src = canvas.toDataURL('image/png');
                // Append the image to the document or do something else with it
                document.body.appendChild(screenshotImage);
              
            });  
        });
  
        function takeScreenshot() {
			const screenshotTarget = document.body;
			html2canvas(screenshotTarget).then(canvas => {
			dataURL = canvas.toDataURL();
			Canvas2Image.saveAsPNG(canvas);
			pushScreenshotToServer(dataURL);
		});
		}

   

        
    </script>
</body>
</html>